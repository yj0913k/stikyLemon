(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{377:function(e,t,o){"use strict";o.r(t);var n=o(6),r=o(2),i=o.n(r),a=o(103),l=o(100),c=o(0),s=o(5),d=o(384),u=o(7),p=o(381),h=o(31),f=o(15),v=o(3);c.e.Pickr=a;var m=function(){function e(){}return e.init=function(t){var o;c.e.Resource.resource.type===(h.b.standard||h.b.icon)&&(null==(o=document.getElementById("section-color-palette"))||o.classList.remove("hidden"),this.colorPaletteButton=document.getElementById("color-palette"),this.savePaletteButton=document.getElementById("save-palette"),this.cancelEditionButton=document.getElementById("cancel-edition"),this.editPaletteInputButton=document.getElementById("edit-palette"),this.paletteEditColorPickerButton=document.querySelector("#palette-edit-color-picker button"),t?(this.getUserColorpalette(),this.colorPaletteButton.addEventListener("click",e.open),f.a.callModalRemovePalette(),e.handleListeners()):this.notPremiumUser())},e.getUserColorpalette=function(){var e=this,t=APP_URL+"ajax/user-palette";Object(u.a)(t).then(function(t){var o,n;(0!=t.success&&(e.palettes=t.data.palettes[0],e.drawSwatches()),e.palettes.colors.length>e.limitColorsIndex)?null==(o=e.paletteEditColorPickerButton)||o.classList.add("disabled"):null==(n=e.paletteEditColorPickerButton)||n.classList.remove("disabled")}).catch(function(e){throw e})},e.handleListeners=function(){var e,t,o,n=this;null==(e=this.editPaletteInputButton)||e.addEventListener("change",function(){var e;null!=(e=n.editPaletteInputButton)&&e.checked&&(n.isOnEdition=!0,n.showDeleteSwatchesButtons(),n.showSaveButton(),n.showCancelButton())}),null==(t=this.savePaletteButton)||t.addEventListener("click",function(){n.savePalette()}),null==(o=this.cancelEditionButton)||o.addEventListener("click",function(){n.cancelEdition()})},e.open=function(){var t;if(!(e.pickrPalette||null!=(t=this.paletteEditColorPickerButton)&&t.classList.contains("disabled"))){var o,n,r;s.a.send("ga","event","editor","add-custom-color","premium"),e.pickrPalette=c.e.Pickr.create({el:"#palette-edit-color-picker",container:".color-palette-wrapper",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",default:"#3A7C78",swatches:[],components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}});var i=document.createElement("button");i.id="save-button-palette",i.className="bj-button bj-button--sm font-sm bj-button--primary bj-button--green mg-none mg-top-lv2-i",i.innerText=messages.colorPalette.save,null==(o=document.querySelector(".color-palette-wrapper .pcr-app"))||o.appendChild(i),null==(n=document.querySelector(".color-palette-wrapper .pcr-result"))||n.setAttribute("maxlength","7"),null==(r=document.getElementById("save-button-palette"))||r.addEventListener("click",function(){e.saveColorToPalette()})}var a=document.querySelector(".color-palette-wrapper .pcr-app");a&&(a.style.display="flex")},e.saveColorToPalette=function(){var e=document.querySelector(".color-palette-wrapper .pcr-interaction .pcr-result");if(this.palettes.colors.length>this.limitColorsIndex){var t;null==(t=this.paletteEditColorPickerButton)||t.classList.add("disabled","tooltip__trigger","tooltip__trigger--always"),v.a.alert("notification-search",messages.colorPalette.exceeded,"warning","bottom-left",4500);var o=document.querySelector(".color-palette-wrapper .pcr-app");o&&(o.style.display="none")}else if(-1===this.palettes.colors.indexOf(e.value)){var n;if(this.palettes.colors.push(e.value),this.palettes.colors.length>this.limitColorsIndex)null==(n=this.paletteEditColorPickerButton)||n.classList.add("disabled","tooltip__trigger","tooltip__trigger--always");this.sendDataColorPalette()}else v.a.alert("notification-search",messages.colorPalette.alredyExist,"warning","bottom-left",4500);this.drawSwatches()},e.drawSwatches=function(){var t,o,n=this;document.querySelectorAll(".swatch").forEach(function(e){return e.remove()});var r,i=this.isOnEdition?"":"hidden";(this.palettes.colors.length>this.limitColorsIndex?null==(t=this.paletteEditColorPickerButton)||t.classList.add("disabled","tooltip__trigger","tooltip__trigger--always"):null==(o=this.paletteEditColorPickerButton)||o.classList.remove("disabled","tooltip__trigger","tooltip__trigger--always"),this.palettes.colors.length>0)&&(this.palettes.colors.forEach(function(e,t){var o,r=document.createElement("li");r.className="swatch mg-right-lv2 mg-bottom-lv2",r.innerHTML='<span class="color" style="background-color: '+e+';" title="'+e+'"><i class="icon icon--cross-small '+i+'" data-value="'+e+'"></i></span>',r.dataset.value=e,null==(o=document.querySelector("ul.swatches"))||o.appendChild(r);var a=r.querySelector("span.color");a&&n.handleSwatchListenerByColor(a)}),null==(r=document.querySelector(".color-palette__header .popover-button"))||r.classList.remove("hidden"));document.querySelectorAll(".swatch i").forEach(function(t){return t.addEventListener("click",function(t){t.stopPropagation();var o=t.target.dataset.value;o&&e.deleteSwatch(o)})})},e.deleteSwatch=function(e){this.palettes.colors=this.palettes.colors.filter(function(t){return t!==e}),this.drawSwatches(),0===this.palettes.colors.length&&(this.editPaletteInputButton&&(this.editPaletteInputButton.checked=!1),this.isOnEdition=!1)},e.showDeleteSwatchesButtons=function(){document.querySelectorAll(".swatch i").forEach(function(e){return e.classList.remove("hidden")})},e.showSaveButton=function(){var e;null==(e=this.savePaletteButton)||e.classList.remove("hidden")},e.showCancelButton=function(){var e;null==(e=this.cancelEditionButton)||e.classList.remove("hidden")},e.savePalette=function(){var e,t,o;(this.palettes.colors=this.palettes.colors,document.getElementById("edit-palette").checked=!1,this.isOnEdition=!1,null==(e=this.savePaletteButton)||e.classList.add("hidden"),null==(t=this.cancelEditionButton)||t.classList.add("hidden"),this.sendDataColorPalette(),this.drawSwatches(),0===this.palettes.colors.length)&&(null==(o=document.querySelector(".color-palette__header .popover-button"))||o.classList.add("hidden"))},e.cancelEdition=function(){var e,t;document.getElementById("edit-palette").checked=!1,this.isOnEdition=!1,null==(e=this.cancelEditionButton)||e.classList.add("hidden"),null==(t=this.savePaletteButton)||t.classList.add("hidden"),this.getUserColorpalette(),this.drawSwatches()},e.removePalette=function(){var t;e.palettes.colors=[],e.savePalette(),document.querySelector(".modal-remove-palette .modal__close").click(),null==(t=document.querySelector(".color-palette__header .popover-button"))||t.classList.add("hidden")},e.noThanks=function(){document.querySelector(".modal-remove-palette .modal__close").click()},e.notPremiumUser=function(){var e,t=document.querySelector("section.color-palette .color-palette__header");t.style.display="block",t.querySelector("p").style.display="inline",null==(e=t.querySelector("i"))||e.classList.remove("hidden"),this.colorPaletteButton.classList.add("modal__trigger"),this.colorPaletteButton.dataset.modal="modal-palette-not-premium-user",f.a.callModalPaletteNotPremiumUser(),window.addEventListener("modal-loaded-modal-palette-not-premium-user",function(){var e;null==(e=document.querySelector("#modal-palette-not-premium-user a"))||e.addEventListener("click",function(){s.a.send("ga","event","editor","add-custom-color","registered"),s.a.send("ga4dl",{event:"ga4event",event_name:"microfunnel",location:"popup_custom_palette",interaction_type:"click",action:"go_premium",product_price:"full_price",campaign_name:"no_campaign",discount_type:"0"})})})},e.sendDataColorPalette=function(){var e=APP_URL+"ajax/user-palette/"+this.palettes.id;Object(u.a)(e,{method:"POST",data:JSON.stringify({colors:this.palettes.colors}),headers:{"X-Requested-With":"XMLHttpRequest"}}).catch(function(e){v.a.alert("notification-colorpalette",messages.colorPalette.updatingError,"warning","bottom-left")})},e.handleSwatchListenerByColor=function(e){var t=this;null==e||e.addEventListener("click",function(e){var o=e.currentTarget;!t.isOnEdition&&o&&o.title&&(document.querySelector("#svg-icon-colors .color .active").style.background.includes("linear-gradient")?v.a.alert("notification-colorpalette",messages.colorPalette.noGradients,"warning","bottom-left"):(w.pickr.setColor(o.title.toLowerCase()),p.Color.fireChangeColor(o.title.toLowerCase(),!0),p.Color.setSVGColor(o.title.toLowerCase())))})},e}();m.isOnEdition=!1,m.limitColorsIndex=10;var g=o(382),_=o(18),y=o(19),b=o(57);o.d(t,"Editor",function(){return w});var w=function(){function e(){}return e.init=function(e,t){void 0===t&&(t=!1),c.e.Pickr=a,c.e.GPickr=d,this.close(),this.handleGATrackerEvents(),this.handleListeners(),m.init(v.a.isPremium()),this.formElement=document.querySelector("#download-form"),"icon-detail"==c.e.view.section&&(this.formElement=document.querySelector("#detail #download-form")),this.handleModalView(e),t&&this.open(),y.a.isEnabled("edit_raw_svg")&&this.iconData.hasRaw&&Promise.resolve().then(o.bind(null,385)).then(function(e){c.e.Stroke=e.Stroke}),this.removeFocusDisplayButton(),this.removeFocusDownloadButton(),this.handleDownloadButtonsEvents()},e.getBase64Resource=function(e,t,o){var n="data:image/svg+xml;base64,"+btoa(e);_.a.fillBase64Form(n),this.trackDownload(t,o)},e.getResourceByFormat=function(e,t){var o,n=(null==(o=document.querySelector(".detail__editor__icon-holder"))?void 0:o.innerHTML)||"";switch(e){case"base64":this.getBase64Resource(n,e,t);break;case"svg":case"eps":case"png":case"jpeg":case c.e.FeatureFlag.isEnabled("raw_svg")&&"raw-svg":this.serverDownload(n,e,t);break;default:return}},e.downloadEventCallback=function(t){var n,r;t.preventDefault(),t.stopPropagation();var i=t.currentTarget,a=i.getAttribute("data-format")||"",l=i.dataset.size||"",s=(null==(n=document.querySelector("#detail"))?void 0:n.dataset.elementid)||(null==(r=e.iconData)?void 0:r.id);if(v.a.isPremiumFlaticon())return e.finalDownload(i);if(v.a.isPremium()||"png"==a){o.e(29).then(o.bind(null,388)).then(function(e){return e.AttributionEditor.setUpModalFreeDownload()});var d=Object(c.c)("#download-free");d.setAttribute("data-format",a||""),d.setAttribute("data-size",l||""),document.getElementById("modal-download").checked=!0}else f.a.callModalDownloadOnlyForPremium(s)},e.handleDownloadButtonsEvents=function(){var e=this;this.downloadElements.forEach(function(t){t.removeEventListener("click",e.downloadEventCallback,!0),t.addEventListener("click",e.downloadEventCallback,!0)})},e.open=function(){var e,t=this;document.body.classList.add("overflow--mobile");var o=document.querySelector("#detail");if(o){var r,a,l,d=document.querySelector(".detail__editor"),h=o.querySelector(".detail__top");if(d&&h)h.classList.add("hide"),d.classList.remove("hide"),null==(r=document.querySelector("#detail .detail__inner"))||r.insertBefore(d,document.querySelector(".detail__top"));if("icon-detail"==c.e.view.section&&(a=document.querySelector("#detail #download-form")),a){var f;this.iconData={id:c.e.Resource.resource.id,name:c.e.Resource.resource.name,author:c.e.Resource.resource.author,color:c.e.Resource.resource.color,premium:c.e.Resource.resource.premium,isColor:"2"==c.e.Resource.resource.color,resourceType:c.e.Resource.resource.type,hasRaw:c.e.Resource.resource.hasRaw};var m=document.querySelector("ul:not(.collection_icons_list) li.icon--item[data-id='"+this.iconData.id+"']");if(null==m&&(m=document.querySelector(".detail__icon__inner img")),null==(f=document.querySelector(".only_registered .alert_no_user"))||f.classList.remove("zoomOut"),gr.auth.me.status){var g;null==(g=document.querySelector(".only_registered"))||g.classList.add("hidden");var _=null==d?void 0:d.querySelector("#download_button");_&&(_.disabled=!1)}else{var b,w;null==(b=document.querySelector(".only_registered"))||b.classList.remove("hidden"),null==(w=document.querySelector(".only_registered .alert_no_user"))||w.classList.remove("hidden")}if(v.a.isLogged()){this.iconData.imageUrl=m.dataset.icon_src?m.dataset.icon_src:m.src;var k=APP_URL+"editor/icon/svg/"+this.iconData.id+"?type="+this.iconData.resourceType;Object(u.a)(k,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(){var e=Object(n.a)(i.a.mark(function e(o){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.url&&t.loadSVG(o.url);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}c.e.IconData=this.iconData}if(y.a.isEnabled("edit_raw_svg")&&this.iconData.hasRaw)null==(l=document.getElementById("option_edit__stroke"))||l.classList.remove("hidden")}var S,E=null==(e=document.querySelector(".detail__editor__icon-wrapper svg"))?void 0:e.querySelectorAll("linearGradient");((!E||E&&0==E.length)&&(this.history=new p.EditorHistory),this.editorTrackerTag="editor",this.editForRegisterTrackerTag="edit-icon","sticker"===this.iconData.resourceType)&&(this.editorTrackerTag="editor-sticker",this.editForRegisterTrackerTag="edit-sticker",null==(S=document.querySelector("#save_into_active"))||S.classList.add("hidden"));s.a.send("ga","event",this.editorTrackerTag,"open")},e.close=function(){var t,o;document.body.classList.remove("overflow--mobile");var n=document.querySelector("#detail");if(n){var r=document.querySelector(".detail__editor"),i=n.querySelector(".detail__top");r&&i&&(r.classList.add("hide"),i.classList.remove("hide")),document.body.appendChild(r)}var a=document.querySelector("#icon-edit-color-picker");a&&(a.innerHTML='<div class="color-picker-wrapper"></div>'),null==(t=this.history)||t.reset();var l=document.querySelector('.detail__editor__submenu input[id="editor__colors"]');l&&(l.checked=!0),document.querySelectorAll('.detail__editor__submenu input[name="editor__option"]:not([id="editor__colors"])').forEach(function(e){e.checked=!1}),null==(o=document.querySelector('.detail__editor__menu li label[for="editor__colors"]'))||o.classList.add("active"),document.querySelectorAll('.detail__editor__menu li label:not([for="editor__colors"])').forEach(function(e){e.classList.remove("active")}),e.cleanSvgHolder(),e.cleanAlertsAndButtons()},e.handleListeners=function(){var t=document.querySelector(".detail__editor button.close");null==t||t.removeEventListener("click",this.close),null==t||t.addEventListener("click",this.close),document.querySelectorAll(".detail__editor__menu li").forEach(function(e){null==e||e.addEventListener("click",function(e){var t,o,n,r=null==(t=e.currentTarget)?void 0:null==(o=t.querySelector("label"))?void 0:o.htmlFor;"editor__forms"==r?document.querySelectorAll(".detail__editor__controls span button").forEach(function(e){e.classList.add("hide")}):document.querySelectorAll(".detail__editor__controls span button").forEach(function(e){e.classList.remove("hide")}),null==(n=document.querySelector('.detail__editor__menu li label[for="'+r+'"]'))||n.classList.add("active"),document.querySelectorAll('.detail__editor__menu li label:not([for="'+r+'"])').forEach(function(e){e.classList.remove("active")})})}),Object(c.a)("#save_into_active","click",function(t){0==this.disabled&&e.saveIntoCollection(t)})},e.handleEditorListeners=function(){var e,t,o=this,n=document.querySelector(".detail__editor"),r=null==n?void 0:n.querySelector(".pcr-app"),i=null==n?void 0:n.querySelector(".color-tab-palette-replace"),a=null==i?void 0:i.querySelector("p:nth-of-type(3)"),l=null==n?void 0:n.querySelector(".detail__editor__controls"),s=null==l?void 0:l.querySelectorAll(".tooltip.tooltip--top"),d=null==n?void 0:n.querySelector("#last-icon-colors"),u=null==n?void 0:n.querySelector("#save_into_active"),h=null==(e=document.querySelector(".detail__editor__icon-wrapper svg"))?void 0:e.querySelectorAll("linearGradient");(null==r||r.classList.add("hidden"),h&&h.length>0?(null==a||a.classList.add("hidden"),null==d||d.classList.add("hidden"),null==s||s.forEach(function(e){e.classList.add("hidden")})):(null==a||a.classList.remove("hidden"),null==d||d.classList.remove("hidden"),null==s||s.forEach(function(e){e.classList.remove("hidden")})),this.pickr)&&(document.querySelectorAll('#icon-edit-color-picker .pcr-selection > div[class*="pcr-color-"]').forEach(function(e){e.addEventListener("mousedown",function(){document.querySelector(".detail__editor .pcr-interaction .pcr-result").blur()})}),this.pickr.on("changestop",function(e){var t=e.getColor().toHEXA().toString().toLowerCase();p.Color.fireChangeColor(t)}),this.pickr.on("change",function(e){u.disabled=!1,o.setAlertAndDownloadButton(!1),p.Color.setSVGColor(e.toHEXA().toString().toLowerCase());var t=document.querySelector(".detail__editor .pcr-interaction .pcr-result");t&&document.activeElement===t&&7==t.value.length&&p.Color.fireChangeColor(e.toHEXA().toString().toLowerCase())}),this.pickr.on("show",function(){null==r||r.classList.remove("hidden")}),this.pickr.on("hide",function(){null==r||r.classList.add("hidden")}),null==(t=Object(c.c)(".pcr-result"))||t.setAttribute("maxlength","7"));if(this.gpickr){var f=null==n?void 0:n.querySelector("#_svg_editor_resetBtn"),v=null==n?void 0:n.querySelector(".gpcr-interaction");this.gpickr.on("change",function(){var e=o.gpickr.getStops(),t=document.querySelector("#svg-icon-colors button.active"),n=o.gpickr.getGradient();if(t){var r=t.getAttribute("data-original");e.length>1&&p.Color.setSVGGradientColor(e,"[id = "+r+"]"),t.style.background=n}u.disabled=!1,f.disabled=!1,o.setAlertAndDownloadButton(!1)}),f.addEventListener("click",function(){if(o.iconData.imageUrl&&(o.loadSVG(o.iconData.imageUrl),document.querySelector(".gpcr-stop-marker"))){var e,t=null==(e=document.querySelector(".gpcr-stop-marker"))?void 0:e.children;Array.from(t).forEach(function(e){e.remove()}),o.addStopGradient()}}),this.gpickr._pickr.on("show",function(){null==r||r.classList.remove("hidden"),null==v||v.classList.remove("hidden")}),this.gpickr._pickr.on("hide",function(){null==r||r.classList.add("hidden"),null==v||v.classList.add("hidden")})}},e.handleModalView=function(e){var t,o=document.querySelector(".detail__editor");if(e&&o)null==(t=document.querySelector("#detail .detail__inner"))||t.insertBefore(o,document.querySelector(".detail__top"));else if(o){var n,r;if(document.querySelector("#detail .detail__inner")&&!document.getElementById("detail-overlay"))null==(n=document.querySelector("#detail .detail__inner"))||n.insertBefore(o,document.querySelector(".detail__top"));else null==(r=document.querySelector("body"))||r.appendChild(o)}},e.pickrInit=function(){this.pickr=c.e.Pickr.create({el:".color-picker-wrapper",container:"#icon-edit-color-picker",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",default:this.plainColor,components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}});var e=document.querySelector(".detail__editor"),t=null==e?void 0:e.querySelector(".color-picker-btn");null==t||t.classList.add("hidden")},e.GPickrInit=function(){var e,t=this;this.gpickr=new c.e.GPickr({el:".color-picker-wrapper",container:"#icon-edit-color-picker",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",stops:this.gradientColorsArray});var o,n=document.querySelector(".detail__editor"),r=null==n?void 0:n.querySelector(".gpcr-interaction"),i=null==n?void 0:n.querySelector(".pcr-app"),a=null==n?void 0:n.querySelector(".color-picker-btn");r.classList.add("hidden"),null==a||a.classList.remove("hidden"),null==(e=document.querySelector("body"))||e.addEventListener("click",function(e){o=!1,e.target==a&&i.classList.contains("hidden")&&t.gpickr._pickr.show(),Array.from(i.children).forEach(function(t){e.target==t?o=!0:Array.from(t.children).forEach(function(t){e.target==t?o=!0:Array.from(t.children).forEach(function(t){e.target==t&&(o=!0)})})}),Array.from(r.children).forEach(function(t){e.target==t?o=!0:Array.from(t.children).forEach(function(t){e.target==t?o=!0:Array.from(t.children).forEach(function(t){e.target==t&&(o=!0)})})}),e.target!=a&&e.target!=document.querySelector("input.pcr-type.active")&&e.target!=document.querySelector(".gpickr .pcr-current-color")&&e.target!=i&&0==o&&i.classList.contains("visible")&&t.gpickr._pickr.hide()})},e.addStopGradient=function(){var e=this;this.gradientColorsArray.length>0&&this.gradientColorsArray.forEach(function(t){e.gpickr.off().addStop(t[0],parseFloat(t[1]))})},e.loadSVG=function(e){var t=this;p.EditorHelpers.getSVGCode(e).then(function(e){var o=document.querySelector(".detail__editor__icon-holder");if(o){o.innerHTML="";var n,r=[];if(e.getAttribute("viewBox"))r=(null==e?void 0:null==(n=e.getAttribute("viewBox"))?void 0:n.split(" "))||[];if(t.draw=Object(l.a)().addTo(".detail__editor__icon-holder").size(512,512),t.draw.attr("x",0),t.draw.attr("y",0),t.draw.attr("viewBox",e.getAttribute("viewBox")?"0 0 "+(r?r[2]:0)+" "+(r?r[3]:0):"0 0 512 512"),t.draw.attr("style","enable-background:new 0 0 512 512"),t.draw.attr("xml:space","preserve"),t.draw.svg("<g>"+e.innerHTML+"</g>"),t.initial=t.draw.clone(),p.Color.getColors(t.draw),Object(g.a)(),p.Shape.handleEventShapes(),y.a.isEnabled("edit_raw_svg"))if(t.iconData.hasRaw)c.e.Stroke.handleEventStroke();else{var i=document.getElementById("option_edit__stroke");null==i||i.classList.add("hidden")}t.setAlertAndDownloadButton("2"==t.iconData.color);var a=document.querySelector("#svg-icon-colors button.active"),s=a.getAttribute("data-actual"),d=document.querySelectorAll("#svg-icon-colors button");s&&(t.plainColor=s),d.forEach(function(e){e.addEventListener("click",function(){var o=document.querySelector("#svg-icon-colors button.active"),n=e.getAttribute("data-actual");(n&&(t.plainColor=n),o.classList.remove("active"),e.classList.add("active"),document.querySelector("#icon-edit-color-picker"))&&(document.querySelector("#icon-edit-color-picker").innerHTML='<div class="color-picker-wrapper"></div>');null!=n&&n.includes("#")?t.pickrInit():(p.Color.updateColorSvg(e),t.GPickrInit()),Object(g.a)(),p.Shape.handleEventShapes(),y.a.isEnabled("edit_raw_svg")&&t.iconData.hasRaw&&c.e.Stroke.handleEventStroke(),t.handleEditorListeners()},{passive:!0})}),t.gpickr&&t.pickr||(null!=s&&s.includes("#")?t.pickrInit():t.GPickrInit(),null==a||a.click(),Object(g.a)(),p.Shape.handleEventShapes(),y.a.isEnabled("edit_raw_svg")&&t.iconData.hasRaw&&c.e.Stroke.handleEventStroke())}})},e.trackDownload=function(e,t){var o=new FormData,n=e;c.e.FeatureFlag.isEnabled("raw_svg")&&this.iconData.hasRaw&&"svg"===e&&(n="svg editable"),s.a.send("ga","event",this.editorTrackerTag,"download",n.toUpperCase()),_.a.trackDownload(this.iconData.id,e);var r=document.querySelector("#download-form #team").value;o.append("team",r),o.append("id",this.iconData.id),o.append("format",e),o.append("size",t),o.append("color","#"+this.iconData.color);var i=new XMLHttpRequest;i.open("POST","/downloads/track-download"),i.send(o)},e.serverDownload=function(e,t,o){var n,r=e,i=t;this.iconData||(this.iconData=Object.assign({},c.e.IconData));var a=document.createElement("form");for(var l in a.method="POST",a.action=FLATICON_DOWNLOAD_URL+"download/icon/edited",a.style.display="none",this.iconData)a.insertAdjacentHTML("beforeend",'<input type="text" name="{0}" value="{1}">'.format(l,this.iconData[l]));a.insertAdjacentHTML("beforeend",'<input type="text" name="format" value="'+t+'">'),a.insertAdjacentHTML("beforeend",'<input type="text" name="size" value="'+o+'">'),a.insertAdjacentHTML("beforeend",'<input type="text" name="code" value="'+btoa(r)+'">'),a.insertAdjacentHTML("beforeend",'<input type="text" name="type" value="'+this.iconData.resourceType+'">'),document.body.appendChild(a),a.submit(),c.e.FeatureFlag.isEnabled("raw_svg")&&this.iconData.hasRaw&&"svg"===t&&(i="svg editable"),s.a.send("ga","event",this.editorTrackerTag,"download",i.toUpperCase()),null==(n=a.parentNode)||n.removeChild(a),v.a.isPremiumFlaticon()||(b.a.initialize("icon"),b.a.show(),document.getElementById("modal-download").checked=!1)},e.setAlertAndDownloadButton=function(t){var o,n,r,i,a=document.getElementById("save_into_active");if("sticker"!==this.iconData.resourceType)if(v.a.isLogged())if(c.e.Collection.getActive().status&&a)if(e.hasMoreThan3EditedIconPerCollection()&&!v.a.isPremium())null==(o=document.querySelector(".detail__editor .free_user_warning"))||o.classList.remove("hidden"),a.disabled=!0;else if(e.hasReachedLimitIconPerCollection()){var l;null==(l=document.querySelector(".detail__editor .collection_limit"))||l.classList.remove("hidden"),a.disabled=!0}else{var s;null==(s=document.querySelector(".detail__editor .free_user_warning"))||s.classList.add("hidden")}else a.disabled=!0,null==(n=document.querySelector(".detail__editor .collection_locked"))||n.classList.remove("hidden");else null==(r=document.querySelector(".only_registered"))||r.classList.remove("hidden"),null==(i=document.querySelector(".detail__editor .edit-icons-user-actions #download_button"))||i.classList.add("hidden"),a.classList.add("hidden")},e.saveIntoCollection=function(e){e.preventDefault(),e.stopPropagation(),this.save(!1)},e.save=function(e){var t,o=this,n=null==(t=document.querySelector(".detail__editor__icon-holder"))?void 0:t.innerHTML,r=c.e.db.rowCount(c.e.Collection.getActive().bookmark_id)+1;c.e.Collection.upload_icon(n,this.iconData.isColor,r,this.iconData.id,this.iconData.color,this.iconData.name,e),_.a.trackDownload(this.iconData.id),document.getElementById("save_into_active").disabled=!0,setTimeout(function(){o.setAlertAndDownloadButton("2"==o.iconData.color)},500)},e.removeFocusDisplayButton=function(){var e=document.querySelector(".detail__editor__options.detail__editor__display"),t=e.getElementsByTagName("button");e&&Array.prototype.forEach.call(t,function(e){e.addEventListener("click",function(){e.blur()})})},e.removeFocusDownloadButton=function(){var e=document.querySelector("body"),t=document.querySelector(".detail__editor .popover-container .popover-content"),o=document.querySelector(".detail__editor .popover-container #download_button");o&&o.addEventListener("click",function e(n){n.preventDefault(),this.classList.toggle("active"),t.classList.toggle("show-menu"),n.stopPropagation(),o.removeEventListener("click",e,!0)},!0),t.addEventListener("click",function(e){e.stopPropagation()},!1),e.addEventListener("click",function(){t&&t.classList.contains("show-menu")&&(t.classList.remove("show-menu"),o.classList.remove("active"))},!1)},e}();w.gradientColorsArray=[],w.downloadElements=document.querySelectorAll(".detail__editor .popover--download a"),w.MAX_ICON_PER_COLLECTION=256,w.MAX_EDITED_ICON_PER_COLLECTION=3,w.finalDownload=function(e){var t,o,n=document.querySelector(".detail__editor__icon-holder svg");null==(t=document.querySelector(".detail__editor .popover-container .popover-content"))||t.classList.toggle("show-menu"),null==(o=document.querySelector(".detail__editor .popover-container #download_button"))||o.classList.remove("active");var r=document.querySelector(".detail__editor__sizes-toggle");if(r&&(r.checked=!1),n){var i,a,l,c=e.getAttribute("data-size")?e.getAttribute("data-size"):"512",s=e.getAttribute("data-format")||"";if(c&&(n.setAttribute("width",c),n.setAttribute("height",c)),e.classList.contains("png_dropper"))return void(null==e||null==(i=e.parentNode)||null==(a=i.parentNode)||null==(l=a.querySelector(".customize"))||l.classList.add("active"));w.getResourceByFormat(s,c||"512"),n.setAttribute("width","512"),n.setAttribute("height","512")}},w.handlerTracker=function(e,t){return s.a.send("ga","event",w.editorTrackerTag,e,t)},w.shapeTracker=function(e){var t=e.currentTarget.dataset.values;"rounded"===t&&(t="square-rounded"),s.a.send("ga","event",w.editorTrackerTag,"forms",t)},w.collectionLockedTracker=function(){return s.a.send("ga","event",w.editorTrackerTag,"alert-premium")},w.registerLinkTracker=function(){return s.a.send("ga","event","register","click",w.editForRegisterTrackerTag)},w.handleGATrackerEvents=function(){var e={name:"menu",options:{color:"colors",display:"display",forms:"forms"}},t={name:"position",options:{move:"move",rotateFlip:"rotate-flip"}};document.querySelector("#editor__colors").onclick=function(){return w.handlerTracker(e.name,e.options.color)},document.querySelector("#editor__display").onclick=function(){return w.handlerTracker(e.name,e.options.display)},document.querySelector("#editor__forms").onclick=function(){return w.handlerTracker(e.name,e.options.forms)},document.querySelectorAll(".edit__move button").forEach(function(e){return e.onclick=function(){return w.handlerTracker(t.name,t.options.move)}}),document.querySelectorAll(".edit__rotate button , .edit__flip button").forEach(function(e){return e.onclick=function(){return w.handlerTracker(t.name,t.options.rotateFlip)}}),document.querySelectorAll(".detail__editor__forms button").forEach(function(e){return e.onclick=w.shapeTracker}),document.querySelector(".collection_locked a").onclick=w.collectionLockedTracker,document.querySelector(".edit_register_link").onclick=w.registerLinkTracker},w.cleanSvgHolder=function(){return document.querySelector(".detail__editor__icon-holder").innerHTML=""},w.cleanAlertsAndButtons=function(){var e,t,o;null==(e=document.querySelector(".detail__editor .collection_locked"))||e.classList.add("hidden"),null==(t=document.querySelector(".detail__editor .free_user_warning"))||t.classList.add("hidden"),null==(o=document.querySelector(".detail__editor .collection_limit"))||o.classList.add("hidden")},w.hasMoreThan3EditedIconPerCollection=function(){return c.e.db.queryAll(c.e.Collection.getActive().bookmark_id,{query:{premium:4}}).length>=w.MAX_EDITED_ICON_PER_COLLECTION},w.hasReachedLimitIconPerCollection=function(){return c.e.db.queryAll(c.e.Collection.getActive().bookmark_id).length>=w.MAX_ICON_PER_COLLECTION}},381:function(e,t,o){"use strict";o.r(t);var n=o(103),r=o(0),i=o(22);r.e.Pickr=n;var a,l,c,s=function(e){var t=e||p,o=document.querySelectorAll(".uicon-detail-holder svg [fill]");o&&o.forEach(function(e){return e.setAttribute("fill",t)}),u(t)},d=function(){var e,t,o=null==(e=document.querySelector(".uicon-detail-holder"))?void 0:e.innerHTML;i.Uicons.svgCode=o||"",(null==(t=document.querySelector(".uicon-detail-holder svg [fill]"))?void 0:t.getAttribute("fill"))!==p&&(i.Uicons.isEdited=!0)},u=function(e){"#"===e.slice(0,1)&&(e=e.slice(1));var t=(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"black":"white",o=document.querySelector(".uicons__detail--image"),n="white";r.e.FeatureFlag.isEnabled("uicons_in_general_search")&&(o=document.querySelector(".detail__top .detail__content"),n="#f8fafb"),o.style.background="black"===t?"#1D262D":n},p="#374957",h={pickrInit:function(){var e;if(r.e.FeatureFlag.isEnabled("uicons_in_general_search")&&(p="#000000"),e=r.e.Pickr.create({el:"#uicon-color-picker-wrapper",container:".uicon-edit-color-picker",showAlways:!1,inline:!1,comparison:!1,useAsButton:!0,defaultRepresentation:"HEX",default:p,swatches:[p],components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}})){var t=Object(r.c)(".pcr-swatches button"),o=Object(r.c)(".pcr-result");e.on("change",function(e){s(e.toHEXA().toString().toLowerCase()),t.style.color=e.toHEXA().toString()}),e.on("changestop",function(){return d()}),t&&(t.disabled=!0),o&&(null==o||o.setAttribute("maxlength","7"),o.onblur=function(){return d()})}},setUiconColor:s},f=o(377),v={getSVGCode:function(e){return new Promise(function(t,o){if(r.e.FeatureFlag.isEnabled("uicons_in_general_search")){var n=document.createElement("div");n.id="editor",n.style.display="none",document.body.appendChild(n),fetch(e).then(function(e){return e.text()}).then(function(e){var r;n.innerHTML=e;var i=document.querySelector("#editor svg");i||o(),null==n||null==(r=n.parentNode)||r.removeChild(n),t(i)})}else{var i=document.createElement("iframe");i.style.display="none",i.id="editor",document.body.appendChild(i),i.onerror=function(){var e;return null==i?void 0:null==(e=i.parentNode)?void 0:e.removeChild(i)},i.src=e,i.onload=function(){var e,n=i.getSVGDocument();n||o();var r=null==n?void 0:n.querySelector("svg");null==i||null==(e=i.parentNode)||e.removeChild(i),r&&t(r)}}})},resizeSvgToDefault:function(e){return function(e){return e.replace('width="128"','width="512"')}(function(e){return e.replace('height="128"','height="512"')}(e))}},m=o(5),g=o(385),_=o(382),y=o(19),b=function(){function e(){var e=this;this.undoButton=document.getElementById("_svg_editor_undoBtn"),this.redoButton=document.getElementById("_svg_editor_redoBtn"),this.resetButton=document.getElementById("_svg_editor_resetBtn"),this.undo=function(){var t=e.events[e.index];"color"==t.type?(oe.setSVGColor(t.data.fromColor,t.data.element),e.index--):(e.index--,-1==e.index?"strokeWidth"==t.type?Object(g.setInitialStrokeWith)():Object(_.c)(!0):"strokeWidth"==(t=e.events[e.index]).type?Object(g.strokeWidth)(t.data,!0,!0,!0):Object(_.c)(t.data)),e.checkButtonStatus(),m.a.send("ga","event",f.Editor.editorTrackerTag,"history","undo")},this.redo=function(){e.index++;var t=e.events[e.index];"color"==t.type?oe.setSVGColor(t.data.toColor,t.data.element):"strokeWidth"==t.type?Object(g.strokeWidth)(t.data,!0,!0,!0):Object(_.c)(t.data),e.checkButtonStatus(),m.a.send("ga","event",f.Editor.editorTrackerTag,"history","redo")},this.reset=function(){f.Editor.draw&&(f.Editor.draw.find("g")[0].replace(f.Editor.initial.find("g")[0]),f.Editor.initial=f.Editor.draw.clone(),e.events=[],e.index=-1,e.checkButtonStatus(),e.handleListeners(),oe.getColors(f.Editor.draw),T.reset(),y.a.isEnabled("edit_raw_svg")&&Object(g.setInitialStrokeWith)(),Object(_.b)(),m.a.send("ga","event",f.Editor.editorTrackerTag,"history","reset"))},this.events=[],this.index=-1,this.checkButtonStatus(),this.handleListeners()}var t=e.prototype;return t.push=function(e){var t=this;void 0!==this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){t.index!=t.events.length-1&&t.events.splice(t.index+1),"color"==e.type&&oe.handleEventColors(),t.events.push(e),t.index++,t.checkButtonStatus()},300)},t.checkButtonStatus=function(){var e,t=document.getElementById("save_into_active");-1==this.index?(this.undoButton.disabled=!0,this.resetButton.disabled=!0,t.disabled=!0):(this.undoButton.disabled=!1,this.resetButton.disabled=!1,null!=(e=document.querySelector(".detail__editor .free_user_warning"))&&e.classList.contains("hidden")&&(t.disabled=!1));this.index<this.events.length-1?(this.redoButton.disabled=!1,this.resetButton.disabled=!1):this.redoButton.disabled=!0},t.handleListeners=function(){this.undoButton.onclick=this.undo,this.redoButton.onclick=this.redo,this.resetButton.onclick=this.reset},e}(),w=100,k="#BAC8D3",S=!1,E=function(e){var t=e.currentTarget,o=t.dataset.action,n=t.dataset.values;if("shape"==o)switch(n){case"circle":L();break;case"square":q();break;case"rounded":A();break;case"none":x(),l=void 0}var r=document.querySelector(".detail__editor__forms .shape-type button.active");null==r||r.classList.remove("active"),t.classList.add("active")},C=function(e){var t;e.stopPropagation();var o=e.currentTarget;"range"==o.type?document.querySelector('.detail__editor__forms input[type="number"]').value=o.value:document.querySelector('.detail__editor__forms input[type="range"]').value=o.value;w=parseFloat(o.value),null==(t=a)||t.transform({scale:w/100,origin:"center"})},L=function(){l&&"circle"==l||(x(),O(),P(),a=f.Editor.draw.circle(f.Editor.draw.width()).radius(f.Editor.draw.viewbox().width/2).cx(f.Editor.draw.viewbox().width/2).cy(f.Editor.draw.viewbox().height/2).back().fill(k).attr({shape:"circle"}),l="circle",document.getElementById("save_into_active").disabled=!1,f.Editor.setAlertAndDownloadButton(!1))},A=function(){l&&"rounded"==l||(x(),O(),P(),a=f.Editor.draw.rect(f.Editor.draw.viewbox().width,f.Editor.draw.viewbox().height).radius(20).back().fill(k).attr({shape:"rounded"}),l="rounded",document.getElementById("save_into_active").disabled=!1,f.Editor.setAlertAndDownloadButton(!1))},q=function(){l&&"square"==l||(x(),O(),P(),a=f.Editor.draw.rect(f.Editor.draw.viewbox().width,f.Editor.draw.viewbox().height).back().fill(k).attr({shape:"square"}),l="square",document.getElementById("save_into_active").disabled=!1,f.Editor.setAlertAndDownloadButton(!1))},B=function(e){var t;k=e,null==(t=a)||t.fill(e)},P=function(){1==f.Editor.draw.find("g")[0].transform().scaleX&&(Object(_.d)(70,!0,!0),S=!0)},O=function(){var e;return null==(e=document.getElementById("editor__forms__options"))?void 0:e.classList.remove("hide")},x=function(){var e,t,o,n;null==(e=f.Editor.history)||e.checkButtonStatus(),null==(t=document.getElementById("editor__forms__options"))||t.classList.add("hide"),null==(o=a)||o.remove(),l=void 0,document.querySelector('.detail__editor__forms input[type="number"]').value=100..toString(),document.querySelector('.detail__editor__forms input[type="range"]').value=100..toString(),w=100,null==(n=c)||n.setColor(k),S&&Object(_.d)(100,!0,!0),document.querySelectorAll(".detail__editor__forms .shape-type button").forEach(function(e){e.classList.remove("active")})},T={handleEventShapes:function(){var e;document.querySelectorAll(".detail__editor__forms .shape-type button").forEach(function(e){null==e||e.removeEventListener("click",E),null==e||e.addEventListener("click",E)}),c||((c=r.e.Pickr.create({el:".shape-color-picker-wrapper",showAlways:!0,inline:!0,comparison:!1,useAsButton:!1,defaultRepresentation:"HEX",default:"BAC8D3",components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}})).on("change",function(e){B(e.toHEXA().toString().toLowerCase())}),c.on("changestop",function(e){var t=e.getColor().toHEXA().toString().toLowerCase();B(t)}),null==(e=Object(r.c)(".pcr-result"))||e.setAttribute("maxlength","7"));var t=document.querySelector('.detail__editor__forms input[type="range"]');null==t||t.removeEventListener("input",C),null==t||t.addEventListener("input",C);var o=document.querySelector('.detail__editor__forms input[type="number"]');null==o||o.removeEventListener("change",C),null==o||o.addEventListener("change",C)},reset:x};function D(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function I(e){if(e.length>7)return!1;return/^#([0-9a-f]{3}){1,2}$/i.test(e)}function j(e){return e.startsWith("rgb")}function R(e){return j(e)?e=function(e){return"#"+D(e[0])+D(e[1])+D(e[2])}(e.split(",").map(function(e){return~~e.replace(/\D+/g,"")})):""}var H=function(e){if(!e)return"";if(I(e))return function(e){return I(e)?e.length>4?e.toLowerCase():"#"+e.toLowerCase().substring(1).split("").map(function(e){return e+e}).join(""):""}(e);if(j(e))return R(e);var t=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==t[e.toLowerCase()]&&t[e.toLowerCase()]}(e);return t||""},F=function(e){var t=function(e){var t,o=e.attr("style");if(!o)return null;var n=null==(t=o.match("/(fill:[^;]+;?)/"))?void 0:t.shift();return n&&"none"!==n?H(n):null}(e);return t||function(e){var t=e.attr("fill");return"none"===t?null:H(t)}(e)},M=function(e){var t=function(e){var t,o=e.attr("style");if(!o)return null;var n=null==(t=o.match("/(stroke:[^;]+;?)/"))?void 0:t.shift();return n&&"none"!==n?H(n):null}(e);return t||function(e){var t=e.attr("stroke");return"none"===t?null:H(t)}(e)},G=[],N=function(e,t,o,n){var r;void 0===o&&(o=!0),void 0===n&&(n=!1);var i="editor";"sticker"===(null==(r=f.Editor.iconData)?void 0:r.resourceType)&&(i="editor-sticker");var a=n?document.getElementById("last-icon-colors"):document.getElementById("svg-icon-colors"),l=document.querySelector(".text__general--heading.history");l&&(Array.from(document.querySelectorAll("#last-icon-colors .color")).length>0||n?l.classList.remove("hide"):l.classList.add("hide")),a&&(o&&(a.innerHTML=""),n&&a.querySelectorAll("li").length>=6&&a.lastChild&&a.removeChild(a.lastChild),e.forEach(function(e,t){var o,r,l,c;e.length<=1||(!Array.isArray(e)&&null!=(o=e)&&o.includes("#")?l='<li class="color%LC%">                <button data-original="%C%" data-actual="%C%" style="background:%C%;" onclick="ga(\'send\', \'event\', \''+i+"', 'color', 'color-change-last')\"></button>                </li>":(l='<li class="color%LC%">                        <button data-original="'+e[1]+'" data-actual="%C%" style="background:%C%;" onclick="ga(\'send\', \'event\', \''+i+"', 'color', 'color-change-last')\"></button>                        </li>",0===t&&(l='<li class="color%LC%">                        <button class="active" data-original="'+e[1]+'" data-actual="%C%" style="background:%C%;" onclick="ga(\'send\', \'event\', \''+i+"', 'color', 'color-change-last')\"></button>                        </li>")),e=Array.isArray(e)?e[0].toLowerCase():e.toLowerCase(),l=null==(r=l)?void 0:r.replace("%LC%",K(e)?" color-light":"").replace(new RegExp("%C%","g"),e),null==a||a.insertAdjacentHTML(n?"afterbegin":"beforeend",l),n&&(null==a||null==(c=a.querySelector("button"))||c.addEventListener("click",function(e){var t=e.currentTarget;t&&t.dataset.actual&&(f.Editor.pickr.setColor(t.dataset.actual),U(t.dataset.actual,!0),oe.setSVGColor(t.dataset.actual))})))}),Array.isArray(e[0])||n||(V(e[0],e[0]),X()))},X=function(){document.querySelectorAll("#svg-icon-colors button").forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget;t&&t.dataset.actual&&t.dataset.original&&V(t.dataset.actual,t.dataset.original)}),e.addEventListener("mouseover",function(e){var t=e.currentTarget;t&&t.dataset.actual&&t.dataset.original&&$(t.dataset.actual,t.dataset.original)}),e.addEventListener("mouseout",function(e){var t=e.currentTarget;t&&t.dataset.actual&&W()})})},V=function(e,t){e=e.toLowerCase();var o,n=document.querySelector('#svg-icon-colors button[data-actual="'+e+'"][data-original="'+t+'"]');n&&(null==(o=document.querySelector("#svg-icon-colors button.active"))||o.classList.remove("active"),n.classList.add("active"),n.style.backgroundColor=e,n.dataset.actual=e,n.click())},U=function(e,t){void 0===t&&(t=!1);var o=document.querySelector("#svg-icon-colors button.active"),n=o.dataset.old?H(o.style.backgroundColor):o.dataset.original;if(o.style.backgroundColor=e,n!==e){var r={type:"color",data:{fromColor:n,toColor:e,element:document.querySelector("#svg-icon-colors button.active")}};f.Editor.history&&f.Editor.history.push(r),t||N([e],[],!1,!0),o.dataset.old=o.dataset.actual}},$=function(e,t){(f.Editor.draw.attr("class","hovered-paths"),f.Editor.draw.find('[class="hovered-path"]').forEach(function(e){e.attr("class","")}),e&&t)&&f.Editor.draw.find('[fill="'+e.toLowerCase()+'"][data-original="'+t.toLowerCase()+'"]').forEach(function(e){e.attr("class","hovered-path")})},W=function(){f.Editor.draw.attr("class",""),f.Editor.draw.find('[class="hovered-path"]').forEach(function(e){e.attr("class","")})},z=function(e){if("#"===e.charAt(0)&&(e=e.substr(1)),e.length<2||e.length>6)return!1;var t,o,n,r=e.split("");if(2===e.length)o=t=parseInt(r[0].toString()+r[1].toString(),16),n=t;else if(3===e.length)t=parseInt(r[0].toString()+r[0].toString(),16),o=parseInt(r[1].toString()+r[1].toString(),16),n=parseInt(r[2].toString()+r[2].toString(),16);else{if(6!==e.length)return!1;t=parseInt(r[0].toString()+r[1].toString(),16),o=parseInt(r[2].toString()+r[3].toString(),16),n=parseInt(r[4].toString()+r[5].toString(),16)}return[t,o,n]},K=function(e){return!!e&&299*parseInt(e.substr(1,2),16)+587*parseInt(e.substr(3,2),16)+114*parseInt(e.substr(5,2),16)>=225e3},Y=function(e){return-1!==e.lastIndexOf(";")?e.slice(0,e.length-1).split(";"):e.split(";")},J=function(e){return-1!==e.indexOf("stroke")},Z=function(e){return-1!==e.indexOf("stroke:none")},Q=function(e){return-1!==e.indexOf("fill:none")},ee=function(e){var t;return e.attr("style",null==(t=e.attr("style"))?void 0:t.replace(/(fill\:[^\;]+;?)/,""))},te=function(e){var t;return e.attr("style",null==(t=e.attr("style"))?void 0:t.replace(/(stroke\:[^\;]+;?)/,""))},oe={hasFillNoneInStyle:Q,hasStrokeInStyle:J,hasStrokeNoneInStyle:Z,isColorLight:K,hexToRgb:z,updateColorSvg:function(e){var t,o=[],n=[],r=e.getAttribute("data-original"),i=null==(t=f.Editor.draw.find("[id = "+r+"]")[0])?void 0:t.node.children;i&&i.forEach(function(e){n.push(e.getAttribute("offset")),o.push(e.getAttribute("stop-color")),f.Editor.gradientColorsArray=[o,n].reduce(function(e,t){return t.forEach(function(t,o){e[o]=e[o]||[],e[o].push(t)}),e},[])})},markActiveElement:$,setSVGGradientColor:function(e,t){f.Editor.draw.find(t).update(function(t){e.forEach(function(e){t.stop(parseFloat(e.location),H(e.color),parseFloat(e.color.split(",").pop()))})})},fireChangeColor:U,setActiveColor:V,setSVGColor:function(e,t){var o=t||document.querySelector("#svg-icon-colors button.active");if(o){var n=o.dataset.actual,i=o.dataset.original;if(n&&i){if(r.e.FeatureFlag.isEnabled("edit_raw_svg")){var a=f.Editor.draw.find('[stroke="'+n.toLowerCase()+'"][data-original="'+i.toLowerCase()+'"]');a&&a.forEach(function(t){t.stroke(e)})}var l=f.Editor.draw.find('[fill="'+n.toLowerCase()+'"][data-original="'+i.toLowerCase()+'"]');l&&l.forEach(function(t){t.fill(e)}),t&&(o.style.backgroundColor=e),o.dataset.old=H(o.style.backgroundColor),o.dataset.actual=e}}},checkGradient:function(e){var t,o,n,r;return e.querySelectorAll("linearGradient").length>0?(null==(t=document.querySelector(".only_registered .alert_no_user"))||t.classList.add("hidden"),null==(o=document.querySelector(".only_registered .alert_icon_gradient"))||o.classList.remove("hidden"),null==(n=document.querySelector(".only_registered"))||n.classList.remove("hidden"),!0):(null==(r=document.querySelector(".only_registered .alert_icon_gradient"))||r.classList.add("hidden"),!1)},getColors:function(e,t){var o=e.find("path, circle, ellipse, polygon, line, rect, polyline"),n=e.find("linearGradient, radialGradient"),i=[],a=[],l=[];if(n.length>0&&n.forEach(function(e,t){var o=e.node.children,n=[],r=[];l.push(e.attr("id")),o.length>0&&(Array.from(o).forEach(function(e){if(e.getAttribute("stop-color")||e.getAttribute("style")){var t,o,i=e.getAttribute("style")?H(null==(t=e.getAttribute("style"))?void 0:t.replace("stop-color:","")):H(e.getAttribute("stop-color"));i=e.getAttribute("style")?H(null==(o=e.getAttribute("style"))?void 0:o.replace("stop-color:","")):H(e.getAttribute("stop-color"));var a=z(i),l=e.getAttribute("offset");G.push(i),n.push("rgb("+a+")"),r.push(parseFloat(l))}}),0===t&&(f.Editor.gradientColorsArray=[n,r].reduce(function(e,t){return t.forEach(function(t,o){e[o]=e[o]||[],e[o].push(t)}),e},[])),a.push("linear-gradient(90deg, "+n[0]+" 0%, "+n[n.length-2]+" 35%, "+n[n.length-1]+" 100%);"))}),o&&o.forEach(function(e){var o="uicon"===t?"#374957":"#000000";r.e.FeatureFlag.isEnabled("uicons_in_general_search")&&(o="#000000");var a=e.attr("style");if(n.length>0&&e.click(function(){var e,t,o,n=new RegExp("#(?<id>[a-z]+)","gi"),r=this.attr("data-original"),i=null==(e=n.exec(r))?void 0:null==(t=e.groups)?void 0:t.id;i&&(null==(o=document.querySelector(".icon-colors button[data-original="+i+"]"))||o.click())}),a&&-1!=a.indexOf("fill:")){var l;if(a&&-1!=a.indexOf("%")){var c=new RegExp("rgb(.*?);","gi").exec(a);if(c){var s=c[1].replace("(","").replace(")","").replace("%",""),d=[];[].forEach.call(s.split(","),function(e){d.push(Math.round(2.55*parseFloat(e)))}),l="rgb("+d.join(",")+")"}}else if(Y(a).length>1){var u=Y(a).find(function(e){return-1!==e.indexOf("fill:")});l=null==u?void 0:u.replace("fill:","").replace(";","")}else l=a.replace("fill:","").replace(";","");!l||J(a)&&!Z(a)||(o=H(l),e.fill(o)),r.e.FeatureFlag.isEnabled("edit_raw_svg")&&Q(a)&&J(a)&&!Z(a)&&Y(a).forEach(function(t){var n,r=t.split(":");if("stroke"===(n={property:r[0],value:r[1]}).property)(o=H(n.value))&&(e.stroke(o),ee(e),te(e));else if("fill"===n.property)e.fill("none");else{var i;e.attr(((i={})[n.property]=n.value,i))}})}else{var p=e.node.getAttribute("fill"),h=function(e){var t=e.node.parents("g[fill]").shift();return null==t?void 0:t.getAttribute("fill")}(e);o=!p&&h?H(h):-1!=e.fill()?e.fill():e.attr("data-original"),e.fill(o)}if(-1!=o.indexOf("url(#"))e.attr("data-original",o),ee(e);else if(o){var f;""==H(o)&&(null==(f=e.node.parentNode)||f.removeChild(e.node)),o=H(o),i.push(o),e.attr("data-original",o),ee(e)}"uicon"!==t&&(e.mouseover(function(){$(this.attr("fill"),this.attr("data-original"))}),e.click(function(){var t=F(e),o=t||M(e);o&&V(o,this.attr("data-original"))}))}),"uicon"!==t&&f.Editor.draw.mouseout(function(){return W()}),i=i.reduce(function(e,t){return-1===e.indexOf(t)&&""!=t&&e.push(t),e},[]),"uicon"!==t){var c=[];if(a.length>0&&0==i.length)c=[a,l].reduce(function(e,t){return t.forEach(function(t,o){e[o]=e[o]||[],e[o].push(t)}),e},[]),N(c,[]);else if(a.length>0&&i.length>0){c=[a,l].reduce(function(e,t){return t.forEach(function(t,o){e[o]=e[o]||[],e[o].push(t)}),e},[]);var s=i.concat(c);N(s,[])}else N(i,[])}"uicon"===t&&h.setUiconColor()},setListColors:N,handleEventColors:X};o.d(t,"ColorUicon",function(){return h}),o.d(t,"Editor",function(){return f.Editor}),o.d(t,"EditorHelpers",function(){return v}),o.d(t,"EditorHistory",function(){return b}),o.d(t,"Shape",function(){return T}),o.d(t,"Color",function(){return oe})},382:function(e,t,o){"use strict";o.d(t,"a",function(){return i}),o.d(t,"d",function(){return c}),o.d(t,"c",function(){return p}),o.d(t,"b",function(){return h});var n,r=o(377),i=function(){var e=document.querySelectorAll(".detail__editor__display button");n=r.Editor.draw.find("g")[0].transform(),e.forEach(function(e){null==e||e.removeEventListener("click",a),null==e||e.addEventListener("click",a)});var t=document.querySelector('.detail__editor__display input[type="range"]');null==t||t.removeEventListener("input",l),null==t||t.addEventListener("input",l);var o=document.querySelector('.detail__editor__display input[type="number"]');null==o||o.removeEventListener("change",l),null==o||o.addEventListener("change",l)},a=function(e){var t=e.currentTarget,o=t.dataset.action,n=t.dataset.values;if(n&&o)switch(o){case"move":s(n);break;case"rotate":d(n);break;case"flip":u(n)}var i={type:o||"",data:r.Editor.draw.find("g")[0].transform()};r.Editor.history&&r.Editor.history.push(i),document.getElementById("save_into_active").disabled=!1,r.Editor.setAlertAndDownloadButton(!1)},l=function(e){e.stopPropagation();var t=e.currentTarget;"range"==t.type?c(parseFloat(t.value),!1,!0):c(parseFloat(t.value),!0,!1),document.getElementById("save_into_active").disabled=!1,r.Editor.setAlertAndDownloadButton(!1)},c=function(e,t,o){var n=r.Editor.draw.find("g")[0].transform().scaleX,i=r.Editor.draw.find("g")[0].transform().scaleY;if(n&&i){var a,l=1/n*e/100,c=1/i*e/100;null==(a=r.Editor.draw.find("g")[0])||a.scale(l,c)}t&&(document.querySelector('.detail__editor__display input[type="range"]').value=e.toString());o&&(document.querySelector('.detail__editor__display input[type="number"]').value=e.toString());var s={type:"scale",data:r.Editor.draw.find("g")[0].transform()};r.Editor.history&&r.Editor.history.push(s),document.getElementById("save_into_active").disabled=!1},s=function(e){var t=r.Editor.draw.find("g")[0],o=e.split(" "),n=o[0],i=o[1],a=o[2],l=o[3],c=5*(-1*parseInt(l)+parseInt(i)),s=5*(-1*parseInt(n)+parseInt(a));t.transform({translateX:c,translateY:s},t.transform()),document.getElementById("save_into_active").disabled=!1,r.Editor.setAlertAndDownloadButton(!1)},d=function(e){r.Editor.draw.find("g")[0].transform({rotate:e},r.Editor.draw.find("g")[0].transform()),document.getElementById("save_into_active").disabled=!1,r.Editor.setAlertAndDownloadButton(!1)},u=function(e){r.Editor.draw.find("g")[0].transform({flip:e},r.Editor.draw.find("g")[0].transform()),document.getElementById("save_into_active").disabled=!1,r.Editor.setAlertAndDownloadButton(!1)},p=function(e){r.Editor.draw.find("g")[0].transform(!0===e?n:e),h()},h=function(){document.querySelector('.detail__editor__display input[type="range"]').value="100",document.querySelector('.detail__editor__display input[type="number"]').value="100"}},384:function(e,t,o){window,e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="dist",o(o.s=2)}([function(e,t,o){
/*! Pickr 1.4.5 MIT | https://github.com/Simonwep/pickr */
window,e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e){e.exports=JSON.parse('{"a":"1.4.5"}')},function(e,t,o){"use strict";o.r(t);var n={};function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(o,!0).forEach(function(t){a(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.r(n),o.d(n,"on",function(){return l}),o.d(n,"off",function(){return c}),o.d(n,"createElementFromString",function(){return d}),o.d(n,"removeAttribute",function(){return u}),o.d(n,"createFromTemplate",function(){return p}),o.d(n,"eventPath",function(){return h}),o.d(n,"resolveElement",function(){return f}),o.d(n,"adjustableInputNumbers",function(){return v});const l=s.bind(null,"addEventListener"),c=s.bind(null,"removeEventListener");function s(e,t,o,n,r={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);for(const a of t)for(const t of o)a[e](t,n,i({capture:!1},r));return Array.prototype.slice.call(arguments,1)}function d(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function u(e,t){const o=e.getAttribute(t);return e.removeAttribute(t),o}function p(e){return function e(t,o={}){const n=u(t,":obj"),r=u(t,":ref"),i=n?o[n]={}:o;r&&(o[r]=t);for(const o of Array.from(t.children)){const t=u(o,":arr"),n=e(o,t?{}:i);t&&(i[t]||(i[t]=[])).push(Object.keys(n).length?n:o)}return o}(d(e))}function h(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let o=e.target.parentElement;for(t=[e.target,o];o=o.parentElement;)t.push(o);return t.push(document,window),t}function f(e){return e instanceof Element?e:"string"==typeof e?e.split(/>>/g).reduce((e,t,o,n)=>(e=e.querySelector(t),o<n.length-1?e.shadowRoot:e),document):null}function v(e,t=(e=>e)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let r=0,i=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(e,o)=>o<=i&&o+e.length>=i?(i=o,t(Number(e),n,r)):(r++,e)),e.focus(),e.setSelectionRange(i,i),o.preventDefault(),e.dispatchEvent(new Event("input"))}l(e,"focus",()=>l(window,"wheel",o,{passive:!1})),l(e,"blur",()=>c(window,"wheel",o))}var m=o(0);const{min:g,max:_,floor:y,round:b}=Math;function w(e,t,o){t/=100,o/=100;const n=y(e=e/360*6),r=e-n,i=o*(1-t),a=o*(1-r*t),l=o*(1-(1-r)*t),c=n%6;return[255*[o,a,i,i,l,o][c],255*[l,o,o,a,i,i][c],255*[i,i,l,o,o,a][c]]}function k(e,t,o){let n,r,i;const a=g(e/=255,t/=255,o/=255),l=_(e,t,o),c=l-a;if(0===c)n=r=0;else{r=c/l;const i=((l-e)/6+c/2)/c,a=((l-t)/6+c/2)/c,s=((l-o)/6+c/2)/c;e===l?n=s-a:t===l?n=1/3+i-s:o===l&&(n=2/3+a-i),n<0?n+=1:n>1&&(n-=1)}return[360*n,100*r,100*(i=l)]}function S(e,t,o,n){return t/=100,o/=100,[...k(255*(1-g(1,(e/=100)*(1-(n/=100))+n)),255*(1-g(1,t*(1-n)+n)),255*(1-g(1,o*(1-n)+n)))]}function E(e,t,o){return t/=100,[e,2*(t*=(o/=100)<.5?o:1-o)/(o+t)*100,100*(o+t)]}function C(e){return k(...e.match(/.{2}/g).map(e=>parseInt(e,16)))}function L(e=0,t=0,o=0,n=1){const r=(e,t)=>(o=-1)=>t(~o?e.map(e=>Number(e.toFixed(o))):e),i={h:e,s:t,v:o,a:n,toHSVA(){const e=[i.h,i.s,i.v,i.a];return e.toString=r(e,e=>"hsva(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(i.a,")")),e},toHSLA(){const e=[...function(e,t,o){const n=(2-(t/=100))*(o/=100)/2;return 0!==n&&(t=1===n?0:n<.5?t*o/(2*n):t*o/(2-2*n)),[e,100*t,100*n]}(i.h,i.s,i.v),i.a];return e.toString=r(e,e=>"hsla(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(i.a,")")),e},toRGBA(){const e=[...w(i.h,i.s,i.v),i.a];return e.toString=r(e,e=>"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(i.a,")")),e},toCMYK(){const e=function(e,t,o){const n=w(e,t,o),r=n[0]/255,i=n[1]/255,a=n[2]/255;let l,c,s,d;return[100*(c=1===(l=g(1-r,1-i,1-a))?0:(1-r-l)/(1-l)),100*(s=1===l?0:(1-i-l)/(1-l)),100*(d=1===l?0:(1-a-l)/(1-l)),100*l]}(i.h,i.s,i.v);return e.toString=r(e,e=>"cmyk(".concat(e[0],"%, ").concat(e[1],"%, ").concat(e[2],"%, ").concat(e[3],"%)")),e},toHEXA(){const e=function(e,t,o){return w(e,t,o).map(e=>b(e).toString(16).padStart(2,"0"))}(i.h,i.s,i.v),t=i.a>=1?"":Number((255*i.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return t&&e.push(t),e.toString=(()=>"#".concat(e.join("").toUpperCase())),e},clone:()=>L(i.h,i.s,i.v,i.a)};return i}const A=e=>Math.max(Math.min(e,1),0);function q(e){const t={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},e),_keyboard(e){const{type:n,key:r}=e;if(document.activeElement===o.wrapper){const{lock:o}=t.options,i="ArrowUp"===r,a="ArrowRight"===r,l="ArrowDown"===r,c="ArrowLeft"===r;if("keydown"===n&&(i||a||l||c)){let e=0,n=0;"v"===o?e=i||a?1:-1:"h"===o?e=i||a?-1:1:(n=i?-1:l?1:0,e=c?-1:a?1:0),t.update(A(t.cache.x+.01*e),A(t.cache.y+.01*n))}else r.startsWith("Arrow")&&(t.options.onstop(),e.preventDefault())}},_tapstart(e){l(document,["mouseup","touchend","touchcancel"],t._tapstop),l(document,["mousemove","touchmove"],t._tapmove),e.preventDefault(),t._tapmove(e)},_tapmove(e){const{options:{lock:n},cache:r}=t,{element:i,wrapper:a}=o,l=a.getBoundingClientRect();let c=0,s=0;if(e){const t=e&&e.touches&&e.touches[0];c=e?(t||e).clientX:0,s=e?(t||e).clientY:0,c<l.left?c=l.left:c>l.left+l.width&&(c=l.left+l.width),s<l.top?s=l.top:s>l.top+l.height&&(s=l.top+l.height),c-=l.left,s-=l.top}else r&&(c=r.x*l.width,s=r.y*l.height);"h"!==n&&(i.style.left="calc(".concat(c/l.width*100,"% - ").concat(i.offsetWidth/2,"px)")),"v"!==n&&(i.style.top="calc(".concat(s/l.height*100,"% - ").concat(i.offsetHeight/2,"px)")),t.cache={x:c/l.width,y:s/l.height};const d=A(c/a.offsetWidth),u=A(s/a.offsetHeight);switch(n){case"v":return o.onchange(d);case"h":return o.onchange(u);default:return o.onchange(d,u)}},_tapstop(){t.options.onstop(),c(document,["mouseup","touchend","touchcancel"],t._tapstop),c(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(e=0,o=0){const{left:n,top:r,width:i,height:a}=t.options.wrapper.getBoundingClientRect();"h"===t.options.lock&&(o=e),t._tapmove({clientX:n+i*e,clientY:r+a*o})},destroy(){const{options:e,_tapstart:o}=t;c([e.wrapper,e.element],"mousedown",o),c([e.wrapper,e.element],"touchstart",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:r}=t;return l([o.wrapper,o.element],"mousedown",n),l([o.wrapper,o.element],"touchstart",n,{passive:!1}),l(document,["keydown","keyup"],r),t}function B(e={}){e=Object.assign({onchange:()=>0,className:"",elements:[]},e);const t=l(e.elements,"click",t=>{e.elements.forEach(o=>o.classList[t.target===o?"add":"remove"](e.className)),e.onchange(t)});return{destroy:()=>c(...t)}}function P({el:e,reference:t,padding:o=8}){const n={start:"sme",middle:"mse",end:"ems"},r={top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},i=((e={})=>(t,o=e[t])=>{if(o)return o;const[n,r="middle"]=t.split("-"),i="top"===n||"bottom"===n;return e[t]={position:n,variant:r,isVertical:i}})();return{update(a){const{position:l,variant:c,isVertical:s}=i(a),d=t.getBoundingClientRect(),u=e.getBoundingClientRect(),p=e=>e?{t:d.top-u.height-o,b:d.bottom+o}:{r:d.right+o,l:d.left-u.width-o},h=e=>e?{s:d.left+d.width-u.width,m:-u.width/2+(d.left+d.width/2),e:d.left}:{s:d.bottom-u.height,m:d.bottom-d.height/2-u.height/2,e:d.bottom-d.height},f={};function v(t,o,n){const r="top"===n,i=r?u.height:u.width,a=window[r?"innerHeight":"innerWidth"];for(const r of t){const t=o[r],l=f[n]="".concat(t,"px");if(t>0&&t+i<a)return e.style[n]=l,!0}return!1}for(const e of[s,!s]){const t=v(r[l],p(e),e?"top":"left"),o=v(n[c],h(e),e?"left":"top");if(t&&o)return}e.style.left=f.left,e.style.top=f.top}}}var O=({components:e,strings:t,useAsButton:o,inline:n,appClass:r,theme:i,lockOpacity:a})=>{const l=e=>e?"":'style="display:none" hidden',c=p('\n      <div :ref="root" class="pickr">\n\n        '.concat(o?"":'<button type="button" :ref="button" class="pcr-button"></button>','\n\n        <div :ref="app" class="pcr-app ').concat(r||"",'" data-theme="').concat(i,'" ').concat(n?'style="position: unset"':"",' aria-label="color picker dialog" role="window">\n          <div class="pcr-selection" ').concat(l(e.palette),'>\n            <div :obj="preview" class="pcr-color-preview" ').concat(l(e.preview),'>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="use previous color"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="color selection area" role="widget"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ').concat(l(e.hue),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="hue selection slider" role="widget"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ').concat(l(e.opacity),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="opacity selection slider" role="widget"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ').concat(e.palette?"":"pcr-last",'" :ref="swatches"></div> \n\n          <div :obj="interaction" class="pcr-interaction" ').concat(l(Object.keys(e.interaction).length),'>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ').concat(l(e.interaction.input),'>\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="').concat(a?"HEX":"HEXA",'" type="button" ').concat(l(e.interaction.hex),'>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="').concat(a?"RGB":"RGBA",'" type="button" ').concat(l(e.interaction.rgba),'>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="').concat(a?"HSL":"HSLA",'" type="button" ').concat(l(e.interaction.hsla),'>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="').concat(a?"HSV":"HSVA",'" type="button" ').concat(l(e.interaction.hsva),'>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ').concat(l(e.interaction.cmyk),'>\n\n            <input :ref="save" class="pcr-save" value="').concat(t.save||"Save",'" type="button" ').concat(l(e.interaction.save),' aria-label="save and exit">\n            <input :ref="cancel" class="pcr-cancel" value="').concat(t.cancel||"Cancel",'" type="button" ').concat(l(e.interaction.cancel),' aria-label="cancel and exit">\n            <input :ref="clear" class="pcr-clear" value="').concat(t.clear||"Clear",'" type="button" ').concat(l(e.interaction.clear),' aria-label="clear and exit">\n          </div>\n        </div>\n      </div>\n    ')),s=c.interaction;return s.options.find(e=>!e.hidden&&!e.classList.add("active")),s.type=(()=>s.options.find(e=>e.classList.contains("active"))),c};function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class T{constructor(e){x(this,"_initializingActive",!0),x(this,"_recalc",!0),x(this,"_color",L()),x(this,"_lastColor",L()),x(this,"_swatchColors",[]),x(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=e=Object.assign({appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},strings:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"},e);const{swatches:t,components:o,theme:n,sliders:r,lockOpacity:i,padding:a}=e;["nano","monolith"].includes(n)&&!r&&(e.sliders="h"),o.interaction||(o.interaction={});const{preview:l,opacity:c,hue:s,palette:d}=o;o.opacity=!i&&c,o.palette=d||l||c||s,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(e=>this.addSwatch(e));const{button:u,app:p}=this._root;this._nanopop=P({reference:u,padding:a,el:p}),u.setAttribute("role","button"),u.setAttribute("aria-label","toggle color picker dialog");const h=this;requestAnimationFrame(function t(){if(!p.offsetWidth&&p.parentElement!==e.container)return requestAnimationFrame(t);h.setColor(e.default),h._rePositioningPicker(),e.defaultRepresentation&&(h._representation=e.defaultRepresentation,h.setColorRepresentation(h._representation)),e.showAlways&&h.show(),h._initializingActive=!1,h._emit("init")})}_preBuild(){const e=this.options;for(const t of["el","container"])e[t]=f(e[t]);this._root=O(e),e.useAsButton&&(this._root.button=e.el),e.container.appendChild(this._root.root)}_finalBuild(){const e=this.options,t=this._root;if(e.container.removeChild(t.root),e.inline){const o=e.el.parentElement;e.el.nextSibling?o.insertBefore(t.app,e.el.nextSibling):o.appendChild(t.app)}else e.container.appendChild(t.app);e.useAsButton?e.inline&&e.el.remove():e.el.parentNode.replaceChild(t.root,e.el),e.disabled&&this.disable(),e.comparison||(t.button.style.transition="none",e.useAsButton||(t.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const e=this,t=this.options.components,o=(e.options.sliders||"v").repeat(2),[n,r]=o.match(/^[vh]+$/g)?o:[],i=()=>this._color||(this._color=this._lastColor.clone()),a={palette:q({element:e._root.palette.picker,wrapper:e._root.palette.palette,onstop:()=>e._emit("changestop",e),onchange(o,n){if(!t.palette)return;const r=i(),{_root:a,options:l}=e;e._recalc&&(r.s=100*o,r.v=100-100*n,r.v<0&&(r.v=0),e._updateOutput());const c=r.toRGBA().toString(0);this.element.style.background=c,this.wrapper.style.background="\n                        linear-gradient(to top, rgba(0, 0, 0, ".concat(r.a,"), transparent),\n                        linear-gradient(to left, hsla(").concat(r.h,", 100%, 50%, ").concat(r.a,"), rgba(255, 255, 255, ").concat(r.a,"))\n                    "),l.comparison?l.useAsButton||e._lastColor||(a.preview.lastColor.style.color=c):a.button.style.color=c;const s=r.toHEXA().toString();for(const t of e._swatchColors){const{el:e,color:o}=t;e.classList[s===o.toHEXA().toString()?"add":"remove"]("pcr-active")}a.preview.currentColor.style.color=c,e.options.comparison||a.button.classList.remove("clear")}}),hue:q({lock:"v"===r?"h":"v",element:e._root.hue.picker,wrapper:e._root.hue.slider,onstop:()=>e._emit("changestop",e),onchange(o){if(!t.hue||!t.palette)return;const n=i();e._recalc&&(n.h=360*o),this.element.style.backgroundColor="hsl(".concat(n.h,", 100%, 50%)"),a.palette.trigger()}}),opacity:q({lock:"v"===n?"h":"v",element:e._root.opacity.picker,wrapper:e._root.opacity.slider,onstop:()=>e._emit("changestop",e),onchange(o){if(!t.opacity||!t.palette)return;const n=i();e._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background="rgba(0, 0, 0, ".concat(n.a,")"),a.palette.trigger()}}),selectable:B({elements:e._root.interaction.options,className:"active",onchange(t){e._representation=t.target.getAttribute("data-type").toUpperCase(),e._recalc&&e._updateOutput()}})};this._components=a}_bindEvents(){const{_root:e,options:t}=this,o=[l(e.interaction.clear,"click",()=>this._clearColor()),l([e.interaction.cancel,e.preview.lastColor],"click",()=>{this._emit("cancel",this),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),l(e.interaction.save,"click",()=>{!this.applyColor()&&!t.showAlways&&this.hide()}),l(e.interaction.result,["keyup","input"],e=>{this.setColor(e.target.value,!0)&&!this._initializingActive&&this._emit("change",this._color),e.stopImmediatePropagation()}),l(e.interaction.result,["focus","blur"],e=>{this._recalc="blur"===e.type,this._recalc&&this._updateOutput()}),l([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0)];if(!t.showAlways){const n=t.closeWithKey;o.push(l(e.button,"click",()=>this.isOpen()?this.hide():this.show()),l(document,"keyup",e=>this.isOpen()&&(e.key===n||e.code===n)&&this.hide()),l(document,["touchstart","mousedown"],t=>{this.isOpen()&&!h(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(t.adjustableNumbers){const t={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};v(e.interaction.result,(e,o,n)=>{const r=t[this.getColorRepresentation().toLowerCase()];if(r){const t=r[n],i=e+(t>=100?1e3*o:o);return i<=0?0:Number((i<t?i:t).toPrecision(3))}return e})}if(t.autoReposition&&!t.inline){let e=null;const n=this;o.push(l(window,["scroll","resize"],()=>{n.isOpen()&&(t.closeOnScroll&&n.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame(function t(){n._rePositioningPicker(),null!==e&&requestAnimationFrame(t)})):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:e}=this;if(!e.inline){const{app:t}=this._root;matchMedia("(max-width: 576px)").matches?Object.assign(t.style,{margin:"auto",height:"".concat(t.getBoundingClientRect().height,"px"),top:0,bottom:0,left:0,right:0}):(Object.assign(t.style,{margin:null,right:null,top:null,bottom:null,left:null,height:null}),this._nanopop.update(e.position))}}_updateOutput(){const{_root:e,_color:t,options:o}=this;if(e.interaction.type()){const n="to".concat(e.interaction.type().getAttribute("data-type"));e.interaction.result.value="function"==typeof t[n]?t[n]().toString(o.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",t)}_clearColor(e=!1){const{_root:t,options:o}=this;o.useAsButton||(t.button.style.color="rgba(0, 0, 0, 0.15)"),t.button.classList.add("clear"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||e||(this._emit("save",null),this._emit("clear",this))}_parseLocalColor(e){const{values:t,type:o,a:n}=function(e){e=e.match(/^[a-zA-Z]+$/)?function(e){if("black"===e.toLowerCase())return"#000";const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,"#000"===t.fillStyle?null:t.fillStyle}(e):e;const t={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},o=e=>e.map(e=>/^(|\d+)\.\d+|\d+$/.test(e)?Number(e):void 0);let n;e:for(const r in t){if(!(n=t[r].exec(e)))continue;const i=e=>!!n[2]==("number"==typeof e);switch(r){case"cmyk":{const[,e,t,i,a]=o(n);if(e>100||t>100||i>100||a>100)break e;return{values:S(e,t,i,a),type:r}}case"rgba":{const[,,,e,t,a,l]=o(n);if(e>255||t>255||a>255||l<0||l>1||!i(l))break e;return{values:[...k(e,t,a),l],a:l,type:r}}case"hexa":{let[,e]=n;4!==e.length&&3!==e.length||(e=e.split("").map(e=>e+e).join(""));const t=e.substring(0,6);let o=e.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[...C(t),o],a:o,type:r}}case"hsla":{const[,,,e,t,a,l]=o(n);if(e>360||t>100||a>100||l<0||l>1||!i(l))break e;return{values:[...E(e,t,a),l],a:l,type:r}}case"hsva":{const[,,,e,t,a,l]=o(n);if(e>360||t>100||a>100||l<0||l>1||!i(l))break e;return{values:[e,t,a,l],a:l,type:r}}}}return{values:null,type:null}}(e),{lockOpacity:r}=this.options,i=void 0!==n&&1!==n;return t&&3===t.length&&(t[3]=void 0),{values:!t||r&&i?null:t,type:o}}_emit(e,...t){this._eventListener[e].forEach(e=>e(...t,this))}on(e,t){return"function"==typeof t&&"string"==typeof e&&e in this._eventListener&&this._eventListener[e].push(t),this}off(e,t){const o=this._eventListener[e];if(o){const e=o.indexOf(t);~e&&o.splice(e,1)}return this}addSwatch(e){const{values:t}=this._parseLocalColor(e);if(t){const{_swatchColors:e,_root:o}=this,n=L(...t),r=d('<button type="button" style="color: '.concat(n.toRGBA().toString(0),'" aria-label="color swatch"/>'));return o.swatches.appendChild(r),e.push({el:r,color:n}),this._eventBindings.push(l(r,"click",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit("swatchselect",n),this._emit("change",n)})),!0}return!1}removeSwatch(e){const t=this._swatchColors[e];if(t){const{el:o}=t;return this._root.swatches.removeChild(o),this._swatchColors.splice(e,1),!0}return!1}applyColor(e=!1){const{preview:t,button:o}=this._root,n=this._color.toRGBA().toString(0);return t.lastColor.style.color=n,this.options.useAsButton||(o.style.color=n),o.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||e||this._emit("save",this._color),this}destroy(){this._eventBindings.forEach(e=>c(...e)),Object.keys(this._components).forEach(e=>this._components[e].destroy())}destroyAndRemove(){this.destroy();const{root:e,app:t}=this._root;e.parentElement&&e.parentElement.removeChild(e),t.parentElement.removeChild(t),Object.keys(this).forEach(e=>this[e]=null)}hide(){return this._root.app.classList.remove("visible"),this._emit("hide",this),this}show(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this)),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(e=360,t=0,o=0,n=1,r=!1){const i=this._recalc;if(this._recalc=!1,e<0||e>360||t<0||t>100||o<0||o>100||n<0||n>1)return!1;this._color=L(e,t,o,n);const{hue:a,opacity:l,palette:c}=this._components;return a.update(e/360),l.update(n),c.update(t/100,1-o/100),r||this.applyColor(),i&&this._updateOutput(),this._recalc=i,!0}setColor(e,t=!1){if(null===e)return this._clearColor(t),!0;const{values:o,type:n}=this._parseLocalColor(e);if(o){const e=n.toUpperCase(),{options:r}=this._root.interaction,i=r.find(t=>t.getAttribute("data-type")===e);if(i&&!i.hidden)for(const e of r)e.classList[e===i?"add":"remove"]("active");return this.setColorRepresentation(e),this.setHSVA(...o,t)}return!1}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}T.utils=n,T.libs={HSVaColor:L,Moveable:q,Nanopop:P,Selectable:B},T.create=(e=>new T(e)),T.version=m.a,t.default=T}]).default},function(e,t,o){},function(e,t,o){"use strict";o.r(t),o(1);var n=o(0),r=o.n(n),i=()=>n.utils.createFromTemplate(`\n<div class="gpickr" :ref="root">\n\n    <div :ref="pickr"></div>\n    <div :obj="gradient" class="gpcr-interaction">\n    <div :ref="result" class="gpcr-result">\n        \n         <div :ref="mode" data-mode="linear" class="gpcr-mode"></div>\n\n            <div :ref="angle" class="gpcr-angle">\n                <div :ref="arrow"></div>\n            </div>\n\n            <div :ref="pos" class="gpcr-pos">\n                ${["tl","tm","tr","l","m","r","bl","bm","br"].map(e=>`<div data-pos="${e}"></div>`).join("")}\n            </div>\n        </div>\n\n        <div :obj="stops" class="gpcr-stops">\n            <div :ref="preview" class="gpcr-stop-preview"></div>\n            <div :ref="markers" class="gpcr-stop-marker"></div>\n        </div>\n       \n    </div>\n\n</div>\n`),a=e=>{const t=e.touches&&e.touches[0]||e;return{tap:t,x:t.clientX,y:t.clientY,target:t.target}};let l=document.createElement("p");function c(e,t,o=-1){const n=e.match(t);return n?~o?n[o]:n:null}function s(e){const t="rgba(0, 0, 0, 0)";if(l.style.color=t,e===t)return e;l.style.color=e;const o=getComputedStyle(l).color;return o===t?null:o}var d=e=>{document.body.appendChild(l);const t=function(e){if(!(e=function(e){return l.style.backgroundImage=e,getComputedStyle(l).backgroundImage}(e)))return null;const[,t,o]=e.match(/^(\w+)-gradient\((.*)\)$/i)||[];if(!t||!o)return null;const n=[...function*(e,t,o=-1){for(let n;n=t.exec(e);)yield~o?n[o].trim():n.map(e=>e.trim())}(o,/(rgba?\(.*?\)|#?\w+)(.*?)(?=,|$)/gi)],r=[];let i=null,a=null;for(let e=0;e<n.length;e++){const[t,o,l]=n[e],d=s(o),u=l.split(/\s+/g).map(e=>c(e,/^-?(\d*(\.\d+)?)%$/,1)).filter(Boolean).map(Number);if(!u.length&&d)r.push({loc:null,color:d});else if(u.length)for(const e of u)r.push({loc:e,color:d||a});else i||(i=t);a=d||a}r[r.length-1].loc||(r[r.length-1].loc=100);for(let e=0;e<r.length;e++){const t=r[e];if(!t.loc)if(e){let o=2,n=e+1;for(;n<r.length&&!r[n].loc;n++)o++;t.loc=r[e-1].loc+(r[n].loc-r[e-1].loc)/o}else t.loc=0}return{str:e,type:t,modifier:i,stops:r}}(e);return document.body.removeChild(l),t},u={angleToDegrees(e){const t=e.trim().toLowerCase().match(/^(-?\d*(\.\d+)?)(deg|rad|grad|turn)$/i);if(!t)return null;const o=Number(t[1]);switch(t[3]){case"deg":return o;case"rad":return 180/Math.PI*o;case"grad":return o/400*360;case"turn":return 360*o}return null}};function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const{utils:h}=r.a,{on:f,off:v}=h;class m{constructor(e){p(this,"_stops",[]),p(this,"_angle",0),p(this,"_angles",[{angle:0,name:"to top"},{angle:90,name:"to right"},{angle:180,name:"to bottom"},{angle:270,name:"to left"}]),p(this,"_direction","circle at center"),p(this,"_directions",[{pos:"tl",css:"circle at left top"},{pos:"tm",css:"circle at center top"},{pos:"tr",css:"circle at right top"},{pos:"r",css:"circle at right"},{pos:"m",css:"circle at center"},{pos:"l",css:"circle at left"},{pos:"br",css:"circle at right bottom"},{pos:"bm",css:"circle at center bottom"},{pos:"bl",css:"circle at left bottom"}]),p(this,"_focusedStop",null),p(this,"_mode","linear"),p(this,"_modes",["linear","radial"]),p(this,"_root",null),p(this,"_eventListener",{init:[],change:[]}),e=Object.assign({stops:[["#42445a",0],["#20b6dd",1]]},e),this._root=i(e),CSS.supports("background-image","conic-gradient(#fff, #fff)")&&this._modes.push("conic"),e.el=e.el.split(/>>/g).reduce((e,t,o,n)=>(e=e.querySelector(t),o<n.length-1?e.shadowRoot:e),document),e.el.parentElement.replaceChild(this._root.root,e.el),this._pickr=r.a.create({el:this._root.pickr,theme:"nano",inline:!0,useAsButton:!0,showAlways:!0,defaultRepresentation:"HEXA",components:{palette:!0,preview:!0,opacity:!0,hue:!0,interaction:{input:!0}}}).on("change",e=>{this._focusedStop&&(this._focusedStop.color=e.toRGBA().toString(0),this._render())}).on("init",()=>{for(const[t,o]of e.stops)this.addStop(t,o,!0);this._bindEvents(),this._emit("init",this)})}_bindEvents(){const{gradient:e}=this._root;f(e.mode,["mousedown","touchstart"],e=>{const t=this._modes.indexOf(this._mode)+1;this._mode=this._modes[t===this._modes.length?0:t],this._render(!0),e.stopPropagation()}),f(e.stops.preview,"click",e=>{this.addStop(this._pickr.getColor().toRGBA().toString(),this._resolveColorStopPosition(e.pageX))}),f(e.result,["mousedown","touchstart"],t=>{if(t.preventDefault(),"linear"!==this._mode)return;e.angle.classList.add("gpcr-active");const o=f(window,["mousemove","touchmove"],t=>{const{x:o,y:n}=a(t),r=e.angle.getBoundingClientRect(),i=r.left+r.width/2,l=r.top+r.height/2,c=Math.atan2(o-i,n-l)-Math.PI,s=Math.abs(180*c/Math.PI),d=[1,2,4][Number(t.shiftKey||2*t.ctrlKey)];this.setLinearAngle(s-s%(45/d))}),n=f(window,["mouseup","touchend","touchcancel"],()=>{e.angle.classList.remove("gpcr-active"),v(...o),v(...n)})}),f(e.pos,["mousedown","touchstart"],e=>{const t=e.target.getAttribute("data-pos"),o=this._directions.find(e=>e.pos===t);this.setRadialPosition(o&&o.css||this._direction)})}_render(e=!1){const{stops:{preview:t},result:o,arrow:n,angle:r,pos:i,mode:a}=this._root.gradient,{_stops:l,_mode:c,_angle:s}=this;l.sort((e,t)=>e.loc-t.loc);for(const{color:e,el:t,loc:o}of l)Object.assign(t.style,{left:`${100*o}%`,color:e});n.style.transform=`rotate(${s-90}deg)`,t.style.background=`linear-gradient(to right, ${this.getStops().toString("linear")})`,o.style.background=this.getGradient().toString(),i.style.opacity="radial"===c?"":"0",i.style.visibility="radial"===c?"":"hidden",r.style.opacity="linear"===c?"":"0",r.style.visibility="linear"===c?"":"hidden",a.setAttribute("data-mode",c),!e&&this._emit("change",this)}_resolveColorStopPosition(e){const{markers:t}=this._root.gradient.stops,o=t.getBoundingClientRect();let n=(e-o.left)/o.width;return n<0&&(n=0),n>1&&(n=1),n}addStop(e,t=.5,o=!1){const{markers:n}=this._root.gradient.stops,r=h.createElementFromString('<div class="gpcr-marker"></div>');n.appendChild(r),this._pickr.setColor(e),e=this._pickr.getColor().toRGBA().toString(0);const i={el:r,loc:t,color:e,listener:f(r,["mousedown","touchstart"],e=>{e.preventDefault();const t=n.getBoundingClientRect();this._pickr.setColor(i.color),this._focusedStop=i;let o=!1;const l=f(window,["mousemove","touchmove"],e=>{const{x:n,y:l}=a(e),c=Math.abs(l-t.y);o=c>50&&this._stops.length>2,r.style.opacity=o?"0":"1",o||(i.loc=this._resolveColorStopPosition(n),this._render())}),c=f(window,["mouseup","touchend","touchcancel"],()=>{v(...l),v(...c),o&&(this.removeStop(i),this._render(!0))})})};return this._focusedStop=i,this._stops.push(i),this._render(o),this}removeStop(e){const{_stops:t}=this,o="number"==typeof e?t.find(e=>e.loc===e):"string"==typeof e?t.find(e=>e.color===e):"object"==typeof e?e:void 0;t.splice(t.indexOf(o),1),o.el.remove(),v(...o.listener),this._focusedStop===o&&(this._focusedStop=t[0]),this._render()}setGradient(e){const t=d(e);if(!t||t.stops.length<2)return!1;const{type:o,stops:n,modifier:r}=t,i=[...this._stops];if(this._modes.includes(o)){this._mode=o;for(const e of n)this.addStop(e.color,e.loc/100);for(const e of i)this.removeStop(e);return"linear"===o?(this._angle=180,r&&this.setLinearAngle(r)):"radial"===o&&(this._direction="circle at center",r&&this.setRadialPosition(r)),!0}return!1}getGradient(e=this._mode){const t=this.getStops().toString(e);switch(e){case"linear":return`linear-gradient(${this._angle}deg, ${t})`;case"radial":return`radial-gradient(${this._direction}, ${t})`;case"conic":return`conic-gradient(${t})`}}getStops(){const e=this._stops.map(e=>({color:e.color,location:e.loc})),t=this._mode;return e.toString=function(e=t){switch(e){case"linear":case"radial":return this.map(e=>`${e.color} ${100*e.location}%`).join(",");case"conic":return this.map(e=>`${e.color} ${360*e.location}deg`).join(",")}},e}getLinearAngle(){return"linear"===this._mode?this._angle:-1}setLinearAngle(e){return"number"==typeof(e="number"==typeof e?e:u.angleToDegrees(e)||(this._angles.find(t=>t.name===e)||{}).angle)&&(this._angle=e,this._render(),!0)}setRadialPosition(e){const t=this._directions.find(t=>t.css===e);if(!t)return!1;this._direction=t.css;for(const e of Array.from(this._root.gradient.pos.children))e.classList[e.getAttribute("data-pos")===t.pos?"add":"remove"]("gpcr-active");return this._render(),!0}getRadialPosition(){return"radial"===this._mode?this._direction:null}_emit(e,...t){this._eventListener[e].forEach(e=>e(...t,this))}on(e,t){return"function"==typeof t&&"string"==typeof e&&e in this._eventListener&&this._eventListener[e].push(t),this}off(e,t){const o=this._eventListener[e];if(o){const e=o.indexOf(t);~e&&o.splice(e,1)}return this}}m.Pickr=r.a,t.default=m}]).default},385:function(e,t,o){"use strict";o.r(t),o.d(t,"strokeWidth",function(){return i}),o.d(t,"setInitialStrokeWith",function(){return a}),o.d(t,"Stroke",function(){return l});var n=o(381),r=function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget;"range"==t.type?i(parseFloat(t.value),!1,!0):(+t.value>+t.max&&(t.value=t.max),+t.value<+t.min&&(t.value=t.min),i(parseFloat(t.value),!0,!1)),document.getElementById("save_into_active").disabled=!1},i=function(e,t,o,r){void 0===r&&(r=!1);var i=n.Editor.draw.find("g *");(i&&i.forEach(function(t){"0"!==t.node.style.strokeWidth&&(t.node.style.strokeWidth=e.toString(),t.stroke({width:e}))}),t)&&(document.querySelector('.detail__editor__stroke input[type="range"]').value=e.toString());o&&(document.querySelector('.detail__editor__stroke input[type="number"]').value=e.toString());var a={type:"strokeWidth",data:e};n.Editor.history&&!r&&n.Editor.history.push(a),document.getElementById("save_into_active").disabled=!1},a=function(){var e=document.querySelector('.detail__editor__stroke input[name="initial-width"]').value;e&&i(Number(e),!0,!0,!0)},l={handleEventStroke:function(){var e=document.querySelectorAll('.detail__editor__stroke input[type="range"], .detail__editor__stroke input[type="number"] ');if(0===n.Editor.draw.find("g *").filter(function(e){return 0!==e.attr("stroke-width")}).length){var t=document.getElementById("option_edit__stroke");null==t||t.classList.add("hidden")}else{var o=n.Editor.draw.find("g *").filter(function(e){return 0!==e.attr("stroke-width")})[0].attr("stroke-width"),i=document.querySelector('.detail__editor__stroke input[name="initial-width"]');i&&(i.value=o),e.forEach(function(e){"range"==e.type?(null==e||e.removeEventListener("input",r),null==e||e.addEventListener("input",r)):(null==e||e.removeEventListener("change",r),null==e||e.addEventListener("change",r),e.addEventListener("keypress",function(t){var o,n=t.currentTarget,r=e.max.length;if("Enter"!=t.key&&!(""+(null==n?void 0:n.value)+t.key).match(/^[0-9]{0,2}$/)&&0==(null==(o=window.getSelection())?void 0:o.toString().length)&&r<=n.value.length)return t.preventDefault(),void t.stopPropagation()})),e.value=o,e.setAttribute("max",(2*o).toString())})}}}}}]);
//# sourceMappingURL=1.045112f836afbdb624bb.js.map